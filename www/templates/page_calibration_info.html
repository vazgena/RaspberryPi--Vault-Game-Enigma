<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>calibration_info</title>
    <script src="/static/js/jquery1.8.2.min.js"></script>
    <script src="/static/js/in_house.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/hack.js"></script>
    <script src="/static/js/curved_text.js"></script>
    <script src="http://code.jquery.com/jquery-2.0.2.min.js"></script>

    <link rel='stylesheet prefetch' href='/static/css/roboto.css'>
    <link rel='stylesheet prefetch' href='/static/css/font-awesome.min.css'>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/inhouse.css?version=.01.7" rel="stylesheet">

</head>
<body>

<div id="main" style="position: fixed; top: 0;  left: 0;
                 width: 300px; height: 300px; " onchange="change(this)">

    <select style=" margin-left: 15%; margin-top: 15%;  width: 300px;" size="7" id="selectId" name = "trackers">
                {% for i in trackers %}
                        <option value="{{i}}">{{i}}</option>
                {% endfor %}
    </select>

</div>

<div id="tail" style="margin-top: 300px;  top: 0;  left: 0;
                 width: 750px; height: 300px; ">

    <table style="width: 100%;  margin-top: 8%; margin-left: 45px; table-layout: fixed;">
        <tr>
            <th>Name</th>
            <th>Room</th>
            <th>Tx power</th>
            <th>Calibration datetime</th>
        </tr>
        <tr>
            <th id = "name_spelled_station"></th>
            <th id = "room_station"></th>
            <th id = "tx_power_selected_tracker"></th>
            <th id = "calibration_datetime"></th>
        </tr>
    </table>

</div>
<script>
    function change() {
        var page = "/calibration_info";
        var select = document.getElementById("selectId");
        var value_select = select.options[select.selectedIndex].value;

        $.ajax({
                type: 'POST',
                url: page,
                data: {
                    'value': value_select
                },
                success: function(data) {
                        var name_spelled_station = data["name_spelled_station"]
                        document.getElementById("name_spelled_station").innerHTML = name_spelled_station;
                        var room_station = data["room_station"]
                        document.getElementById("room_station").innerHTML = room_station;
                        var tx_power_selected_tracker = data["tx_power_selected_tracker"]
                        document.getElementById("tx_power_selected_tracker").innerHTML = tx_power_selected_tracker;
                        var calibration_datetime = data["calibration_datetime"]
                        document.getElementById("calibration_datetime").innerHTML = calibration_datetime;

                    }
            });
    }
</script>
</body>
</html>
